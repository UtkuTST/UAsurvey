<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hastings Survey</title>
  <script src="https://unpkg.com/jquery"></script>
  <script src="https://unpkg.com/survey-jquery@1.10.2/survey.jquery.min.js"></script>
  <link href="https://unpkg.com/survey-core/defaultV2.min.css" rel="stylesheet"/>
</head>
<body>
  <div id="surveyContainer" style="max-width:800px;margin:auto"></div>

  <script>
  // Load both JSON files (theme + survey)
  Promise.all([
    fetch("theme.json").then(r => r.json()),
    fetch("hastings.json").then(r => r.json())
  ])
  .then(([themeJson, surveyJson]) => {
    // Apply theme
    Survey.StylesManager.applyTheme(themeJson);

    // Create survey
    const survey = new Survey.Model(surveyJson);
    $("#surveyContainer").Survey({ model: survey });
  })
  .catch(err => console.error("Error loading survey:", err));
</script>
</body>
</html>
