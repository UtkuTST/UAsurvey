<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hastings Survey</title>
  <script src="https://unpkg.com/jquery"></script>
  <script src="https://unpkg.com/survey-jquery@1.10.2/survey.jquery.min.js"></script>
  <link href="https://unpkg.com/survey-core/defaultV2.min.css" rel="stylesheet"/>
</head>
<body>
  <div id="surveyContainer" style="max-width:800px;margin:auto"></div>

<script>
Promise.all([
  fetch("theme.json").then(r => r.json()),
  fetch("hastings.json").then(r => r.json())
])
.then(([themeJson, surveyJson]) => {
  console.log("Theme loaded:", themeJson);
  // Reset to a known base first
  Survey.StylesManager.applyTheme("defaultV2");
  // Then apply your custom theme
  Survey.StylesManager.applyTheme(themeJson);

  const survey = new Survey.Model(surveyJson);
  $("#surveyContainer").Survey({ model: survey });
})
.catch(err => console.error("Error loading survey or theme:", err));
</script>
</body>
</html>
